{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\acer\\\\Desktop\\\\Medium-Clone-main\\\\MEDIUM_CLONE\\\\Project-main\\\\client\\\\src\\\\components\\\\write\\\\Write.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport JoditEditor from 'jodit-react';\nimport './write.scss';\nimport axios from 'axios';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Write = () => {\n  _s();\n  const navigate = useNavigate();\n  const editor = useRef(null);\n  const [content, setContent] = useState('');\n  const [cc, setCc] = useState(false);\n  const [title, setTitle] = useState('');\n  const params = useParams();\n  const getBlog = async () => {\n    if (params.id !== undefined) {\n      const {\n        data\n      } = await axios.get('http://localhost:4000/blogs/' + params.id, {\n        withCredentials: true\n      });\n      if (data) {\n        setCc(true);\n        setTitle(data.found.title);\n        setContent(data.found.desc);\n      }\n    }\n  };\n  useEffect(function () {\n    getBlog();\n  }, []);\n  const clickHandler = async () => {\n    if (cc) {\n      await axios.put('http://localhost:4000/blogs/' + params.id, {\n        title: title,\n        desc: content\n      }, {\n        withCredentials: true\n      });\n    } else {\n      await axios.post('http://localhost:4000/blogs', {\n        title: title,\n        desc: content\n      }, {\n        withCredentials: true\n      });\n    }\n    navigate('/blogs');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"write\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"\",\n      children: \"Title\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: title,\n      onChange: e => {\n        setTitle(e.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"\",\n      children: \"Description\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(JoditEditor, {\n      ref: editor,\n      value: content,\n      tabIndex: 1 // tabIndex of textarea\n      ,\n      onBlur: newContent => setContent(newContent) // preferred to use only this option to update the content for performance reasons\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"publish\",\n      onClick: clickHandler,\n      children: cc ? 'Update' : 'Publish'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(Write, \"e13VkyGN3k0rnfQfVT7HUmakDbM=\", false, function () {\n  return [useNavigate, useParams];\n});\n_c = Write;\nexport default Write;\nvar _c;\n$RefreshReg$(_c, \"Write\");","map":{"version":3,"names":["React","useState","useRef","useEffect","JoditEditor","axios","useNavigate","useParams","jsxDEV","_jsxDEV","Write","_s","navigate","editor","content","setContent","cc","setCc","title","setTitle","params","getBlog","id","undefined","data","get","withCredentials","found","desc","clickHandler","put","post","className","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","ref","tabIndex","onBlur","newContent","onClick","_c","$RefreshReg$"],"sources":["C:/Users/acer/Desktop/Medium-Clone-main/MEDIUM_CLONE/Project-main/client/src/components/write/Write.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\nimport JoditEditor from 'jodit-react'\nimport './write.scss'\nimport axios from 'axios'\nimport { useNavigate, useParams } from 'react-router-dom'\nconst Write = () => {\n  const navigate = useNavigate()\n  const editor = useRef(null)\n  const [content, setContent] = useState('')\n  const [cc, setCc] = useState(false)\n  const [title, setTitle] = useState('')\n  const params = useParams()\n  const getBlog = async () => {\n    if (params.id !== undefined) {\n      const { data } = await axios.get(\n        'http://localhost:4000/blogs/' + params.id,\n        {\n          withCredentials: true,\n        },\n      )\n      if (data) {\n        setCc(true)\n        setTitle(data.found.title)\n        setContent(data.found.desc)\n      }\n    }\n  }\n  useEffect(function () {\n    getBlog()\n  }, [])\n  const clickHandler = async () => {\n    if (cc) {\n      await axios.put(\n        'http://localhost:4000/blogs/' + params.id,\n        {\n          title: title,\n          desc: content,\n        },\n        {\n          withCredentials: true,\n        },\n      )\n    } else {\n      await axios.post(\n        'http://localhost:4000/blogs',\n        {\n          title: title,\n          desc: content,\n        },\n        {\n          withCredentials: true,\n        },\n      )\n    }\n    navigate('/blogs')\n  }\n  return (\n    <div className=\"write\">\n      <label htmlFor=\"\">Title</label>\n      <input\n        type=\"text\"\n        value={title}\n        onChange={(e) => {\n          setTitle(e.target.value)\n        }}\n      />\n      <label htmlFor=\"\">Description</label>\n      <JoditEditor\n        ref={editor}\n        value={content}\n        tabIndex={1} // tabIndex of textarea\n        onBlur={(newContent) => setContent(newContent)} // preferred to use only this option to update the content for performance reasons\n      />\n      <button className=\"publish\" onClick={clickHandler}>\n        {cc ? 'Update' : 'Publish'}\n      </button>\n    </div>\n  )\n}\n\nexport default Write\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAC1D,OAAOC,WAAW,MAAM,aAAa;AACrC,OAAO,cAAc;AACrB,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,EAAEC,SAAS,QAAQ,kBAAkB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACzD,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAMC,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAC9B,MAAMO,MAAM,GAAGX,MAAM,CAAC,IAAI,CAAC;EAC3B,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACe,EAAE,EAAEC,KAAK,CAAC,GAAGhB,QAAQ,CAAC,KAAK,CAAC;EACnC,MAAM,CAACiB,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMmB,MAAM,GAAGb,SAAS,CAAC,CAAC;EAC1B,MAAMc,OAAO,GAAG,MAAAA,CAAA,KAAY;IAC1B,IAAID,MAAM,CAACE,EAAE,KAAKC,SAAS,EAAE;MAC3B,MAAM;QAAEC;MAAK,CAAC,GAAG,MAAMnB,KAAK,CAACoB,GAAG,CAC9B,8BAA8B,GAAGL,MAAM,CAACE,EAAE,EAC1C;QACEI,eAAe,EAAE;MACnB,CACF,CAAC;MACD,IAAIF,IAAI,EAAE;QACRP,KAAK,CAAC,IAAI,CAAC;QACXE,QAAQ,CAACK,IAAI,CAACG,KAAK,CAACT,KAAK,CAAC;QAC1BH,UAAU,CAACS,IAAI,CAACG,KAAK,CAACC,IAAI,CAAC;MAC7B;IACF;EACF,CAAC;EACDzB,SAAS,CAAC,YAAY;IACpBkB,OAAO,CAAC,CAAC;EACX,CAAC,EAAE,EAAE,CAAC;EACN,MAAMQ,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAIb,EAAE,EAAE;MACN,MAAMX,KAAK,CAACyB,GAAG,CACb,8BAA8B,GAAGV,MAAM,CAACE,EAAE,EAC1C;QACEJ,KAAK,EAAEA,KAAK;QACZU,IAAI,EAAEd;MACR,CAAC,EACD;QACEY,eAAe,EAAE;MACnB,CACF,CAAC;IACH,CAAC,MAAM;MACL,MAAMrB,KAAK,CAAC0B,IAAI,CACd,6BAA6B,EAC7B;QACEb,KAAK,EAAEA,KAAK;QACZU,IAAI,EAAEd;MACR,CAAC,EACD;QACEY,eAAe,EAAE;MACnB,CACF,CAAC;IACH;IACAd,QAAQ,CAAC,QAAQ,CAAC;EACpB,CAAC;EACD,oBACEH,OAAA;IAAKuB,SAAS,EAAC,OAAO;IAAAC,QAAA,gBACpBxB,OAAA;MAAOyB,OAAO,EAAC,EAAE;MAAAD,QAAA,EAAC;IAAK;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,eAC/B7B,OAAA;MACE8B,IAAI,EAAC,MAAM;MACXC,KAAK,EAAEtB,KAAM;MACbuB,QAAQ,EAAGC,CAAC,IAAK;QACfvB,QAAQ,CAACuB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC;MAC1B;IAAE;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACF7B,OAAA;MAAOyB,OAAO,EAAC,EAAE;MAAAD,QAAA,EAAC;IAAW;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAO,CAAC,eACrC7B,OAAA,CAACL,WAAW;MACVwC,GAAG,EAAE/B,MAAO;MACZ2B,KAAK,EAAE1B,OAAQ;MACf+B,QAAQ,EAAE,CAAE,CAAC;MAAA;MACbC,MAAM,EAAGC,UAAU,IAAKhC,UAAU,CAACgC,UAAU,CAAE,CAAC;IAAA;MAAAZ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjD,CAAC,eACF7B,OAAA;MAAQuB,SAAS,EAAC,SAAS;MAACgB,OAAO,EAAEnB,YAAa;MAAAI,QAAA,EAC/CjB,EAAE,GAAG,QAAQ,GAAG;IAAS;MAAAmB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpB,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAAA3B,EAAA,CAzEKD,KAAK;EAAA,QACQJ,WAAW,EAKbC,SAAS;AAAA;AAAA0C,EAAA,GANpBvC,KAAK;AA2EX,eAAeA,KAAK;AAAA,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}